/ Modal
#adoptModal.modal.no-padding.fade{role: "dialog"}
  .modal-dialog
    / Modal content
    .modal-content.text-center
      =simple_form_for @new_cleaning, url: cleanings_path do |f|
        .modal-header
          %button.close{"data-dismiss" => "modal", type: "button"} Ã—
          %h4.modal-title So you want to adopt this block?
        .modal-body
          %p
            All you need to do is clean this block once every 10 days or so for 3 months.
          %p
            Ideally, this should take no more than 20 minutes.
          %p
            After 3 months, you can sign up again or let someone else adopt the block.
        
          -if current_user 
            %p
              What do you say?  
            %p 
              ="Click Adopt to accept the challenge and make #{@block.neighborhood.name} an even better place to live."
            %p.fine-print
              You can un-adopt this block at any time.
          -else 
            %p
              Click Login or Sign Up below to adopt this block.

        .modal-footer.text-center
          %button.text-center.btn.btn-default{"data-dismiss" => "modal", type: "button"} Cancel
          -if current_user
            =link_to adopt_block_path(@block), method: :post do
              %button.btn.btn-info
                Adopt
          -else 
            =link_to new_user_session_path(block_id: @block.id) do
              %button.btn.btn-info
                Login
            =link_to new_user_registration_path(block_id: @block.id) do 
              %button.btn.btn-info
                Sign Up

:javascript
  $(document).ready(function() {  
    var modals = ['#adoptModal'];
    if (window.location.hash && ~modals.indexOf(window.location.hash)) {
       $(window.location.hash).modal();
    }
  })